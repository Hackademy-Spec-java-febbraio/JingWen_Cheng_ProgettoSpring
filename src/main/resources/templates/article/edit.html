<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{index :: head}"></head>
<body>
    <div th:insert="~{index :: navbar}"></div>

    <div class="container my-5">
        <h1 th:text="${title}">Modifica Articolo</h1>

        <form th:action="@{/articles/edit/{id}(id=${article.id})}" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="title">Titolo</label>
                <input type="text" id="title" name="title" th:field="*{title}" class="form-control">
            </div>
        
            <div class="form-group">
                <label for="subtitle">Sottotitolo</label>
                <input type="text" id="subtitle" name="subtitle" th:field="*{subtitle}" class="form-control">
            </div>
        
            <div class="form-group">
                <label for="body">Contenuto</label>
                <textarea id="body" name="body" th:field="*{body}" class="form-control"></textarea>
            </div>
        
            <div class="form-group">
                <label for="category">Categoria</label>
                <select id="category" th:field="*{category.id}" class="form-control">
                    <option th:each="category : ${categories}" th:value="${category.id}" 
                            th:text="${category.name}" 
                            th:selected="${category.id == article.category.id}"></option>
                </select>
            </div>
        
            <div class="form-group">
                <label for="file-image">Immagine</label>
                <input type="file" id="file-image" name="file-image" class="form-control">
            </div>
        
            <button type="submit" class="btn btn-primary mt-3">Aggiorna articolo</button>
        </form>
        

        <a th:href="@{/articles}" class="btn btn-secondary mt-3">Torna alla lista</a>
    </div>

    <div th:insert="~{index :: footer}"></div>
</body>
</html>
